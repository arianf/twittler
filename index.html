<!DOCTYPE html>
<html>
  <head>
    <title>Twittler</title>

    <script src="js/jquery.js"></script>
    <script src="js/data_generator.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="css/bootstrap.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="css/bootstrap-theme.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="js/bootstrap.min.js"></script>
  </head>
  <body>
  
    <div class="container">
        <div class="page-header">
          <h1>Twittler Feed</h1>
        </div>
        <form>
          <div class="form-group">
            <input type="text" class="form-control" id="tweet" placeholder="Tweet something here" />
          </div>
        </form>
        <div class="list-group">
        </div>
    </div> <!-- /container -->
    
    <script>

      $(document).ready(function(){
        var $body = $('.list-group');
        // $body.html('');

        var emptySteam = function() {
          var index = streams.home.length - 1;
          while(index >= 0){
            var tweet = streams.home[index];
            var $tweet = $('<a href="#" class="list-group-item"><h4 class="list-group-item-heading"><span class="username"></span>&nbsp;&nbsp;<small class="date"></small></h4><p class="list-group-item-text"></p></a>');
            $tweet.find(".username").text('@' + tweet.user);
            $tweet.find(".date").text(tweet.created_at);
            $tweet.find(".list-group-item-text").text(tweet.message);
            $tweet.prependTo($body).hide().slideDown();
            index -= 1;
            while($(".list-group-item:visible").length > 9){
              $(".list-group-item").last().slideDown().remove();
            }
            streams.home.pop();
          }
          setTimeout(emptySteam, 1000);
        }
        emptySteam();
        
      });

    </script>

  </body>
</html>
